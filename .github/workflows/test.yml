name: Test
on:
  push:
  pull_request:
  workflow_dispatch:
jobs:
 test:
  runs-on: windows-latest
  steps:
   - name: Test disk image on ``legacy`` branch (push and manually)
     uses: Minionguyjpro/Create-Disk-Image@main
     with:
       path: example
       filename: test.iso
       label: Example
       push: true
       output-dir: example
     if: ${{ github.ref_name == 'legacy' }}
   - name: Test disk image on ``dev`` branch (push and manually)
     uses: Minionguyjpro/Create-Disk-Image@dev
     with:
       path: example
       filename: test.iso
       label: Example
       push: true
       output-dir: example
     if: ${{ github.ref_name == 'dev' }}
   - name: Test disk image on ``legacy`` branch (push and manually)
     uses: Minionguyjpro/Create-Disk-Image@legacy
     with:
       path: example
       filename: test.iso
       label: Example
       push: true
       output-dir: example
     if: ${{ github.ref_name == 'legacy' }}
   - name: Test disk image on PR (pull request)
     uses: Minionguyjpro/Create-Disk-Image@dev
     with:
       path: example
       filename: test.iso
       label: Example
       push: false
       output-dir: example
     if: ${{ github.event_name == 'pull_request' }}
